{"version":3,"file":"static/webpack/static/development/pages/companies/[id].js.1484dabd3de00e7e11e0.hot-update.js","sources":["webpack:///./src/components/Contacts.tsx"],"sourcesContent":["import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport EmailIcon from '@material-ui/icons/Email';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\n\nconst codec = require('nodejs-base64-encode');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n}));\n\nexport default function Contacts(props: any) {\n  const classes = useStyles();\n  const intl = useIntl();\n\n  const { company: { isLocalShippingAvailable } } = props;\n\n  const hasEmail = !!props.company.email;\n  const hasPhone = !!props.company.phone;\n\n  // this should make harder for crawlers to find emails and phones\n  const decodedEmail = codec.decode(props.company.email || '', 'base64');\n  const decodedPhone = codec.decode(props.company.phone || '', 'base64');\n\n  const [email, setEmail] = React.useState(`${decodedEmail.slice(0, 3)}${'X'.repeat(Math.max(3, decodedEmail.length-3))}`);\n  const [phone, setPhone] = React.useState(`${decodedPhone.slice(0, 3)}${'X'.repeat(Math.max(3, decodedPhone.length-3))}`);\n\n  const showEmail = () => setEmail(decodedEmail);\n  const showPhone = () => setPhone(decodedPhone);\n\n  const revealEmailMessage = email !== decodedEmail ? intl.formatMessage({id: \"app.components.contact.clickToReveal\"}) : ''\n  const revealPhoneMessage = phone !== decodedPhone ? intl.formatMessage({id: \"app.components.contact.clickToReveal\"}) : ''\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      {hasPhone && <ListItem onClick={showPhone}>\n        <ListItemIcon>\n          <PhoneIcon />\n        </ListItemIcon>\n        <ListItemText primary={phone} secondary={revealPhoneMessage} />\n      </ListItem>}\n      {hasEmail && <ListItem onClick={showEmail}>\n        <ListItemIcon>\n          <EmailIcon />\n        </ListItemIcon>\n        <ListItemText primary={email} secondary={revealEmailMessage} />\n      </ListItem>}\n      {isLocalShippingAvailable && <ListItem>\n        <ListItemIcon>\n          <LocalShippingIcon />\n        </ListItemIcon>\n        <ListItemText primary={<FormattedMessage id=\"app.pages.company.localShippingAvailable\" />} />\n      </ListItem>}\n    </List>\n  );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AALA;AAAA;AAUA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAEA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAeA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}